<html>
<body onLoad="updateLinkBox()">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="colorer-b.js"></script>

<p>Transaction hash: <input id='transactionHash' size='64' value='' />
<button onClick="showCurrentTransaction()">show</button>
</p>


<div id='transactionBox'></div>



<hr />
<p>Add a color definition:</p>
<p>Name: <input id='addName' size='32' value='' /></p>
<p>Transaction hash: <input id='addTransactionHash' size='64' value='' /></p>
<p>Output index: <input id='addOutputIndex' size='4' value='0' /></p>
<button onClick="addColorUI()">add</button>

<div id='colorDescriptions'></div>



<script>

function goTransaction(transactionHash) {
    $('#transactionBox').empty();
    $('#transactionHash').val(transactionHash);
    showCurrentTransaction();
    updateLinkBox();
}
function showCurrentTransaction() {
    getTransaction($('#transactionHash').val(), renderTransaction);
}
function addColorUI() {
    name = $('#addName').val();
    transactionHash = $('#addTransactionHash').val();
    outputIndex = $('#addOutputIndex').val();
    addColor(name, transactionHash, outputIndex);
}
function addColor(name, transactionHash, outputIndex) {
    colorDescriptor = getColorDescriptor(name, transactionHash, outputIndex);
    defs[transactionHash] = {'outputIndex': outputIndex, 'name': name, 'unit': 1};
    $('#colorDescriptions').append("<br />\n"+colorDescriptor);
    goTransaction(transactionHash);
}
function updateLinkBox() {
    $('#linkBox').val(document.location);
}
</script>

</body>
</html>
